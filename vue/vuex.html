vuex

1. 定义
	
	vuex是一个状态管理模式,采用集中式存储管理应用的所有组件的状态。并以相应的规则保证状态以一种不可预测的方式发生变化。

	state: 驱动应用的数据源
	view: 以声明方式将state反应到视图
	actions: 响应在view上的用户输入导致的状态变化

2. vuex vs 全局变量
	vuex应用的核心就是store，里面包含着大部分的state。跟单纯的全局对象有以下的不同:

	2.1 vuex的状态存储是响应式的。当vue组件从store中读取状态的时候，若state发生变化，相应的组件也会更新。

	2.2 不能直接改变store的状态，只能通过commit mutation

3. state:

	3.1 在根组件的时候注入到每一个子组件的时候，可以通过this.$store.state访问。

	3.2 mapState
	<script type="text/javascript">
		computed: mapState({
			count: state => state.count,
			num(state){
				return state.num + this.localNum;   //要获取this,不能使用箭头函数，因为箭头函数this指向mapState里
			}
		})
	</script>

	3.3 state需要在组件的computed属性里面声明。在data函数里面添加不会产生响应式。



4. mutation:

	4.1.要更改state的唯一方法就是提交mutation，类似于事件。每个mutation都有一个字符串的事件类型和一个callback

	4.2 mutation必须是同步函数,其实在异步也能改变state,不过官方倡导不这样做，因为devtool追踪不到state的变化

	4.3 mapMutations

5. action:
	
	5.1 action提交的是 mutation，而不是直接操作 state，并且它可以包含任意异步操作。。

6. module

	6.1 vuex 是一个单一状态树，vuex支持将store分割成各个模块，每个模块里面有组件的state,mutation,action，module。

	6.2 module支持namespaced 将模块进行封装起来。

