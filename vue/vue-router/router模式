

vue router 模式


vue-router有两种模式，默认的是hash模式，另一个是history模式(利用history.pushState API 来完成跳转而无须重新加载页面)。

const router = new VueRouter({
	mode: 'hash',   -> 默认是hash('#')
	routes:[{
		path: '/home',
		name: 'home',
		component: Home
	}]
});

二是history模式

	如果直接访问http://www.xxx.com/user/123,会返回404,因为应用是SPA,服务器未匹配这么目录。
	所以需要再服务器端配置一个默认的html页面返回

	1. nginx：
		location / {
		  try_files $uri $uri/ /index.html;
		}

	2. node web server：

		const http = require('http');
		const fs = require('fs');

		http.createServer((req,res)=>{
			fs.readFile('index.html','utf8',(err,content)=>{
				if(err){
					console.log(err);
				}
				res.writeHead(200,{
					'Content-Type': 'text/html;charset=utf-8'
				})
				res.end(content);
			});
		}).listen(80)

