


判断一个网站的性能最直观的就是看网页打开的速度。其中提高网页反应速度的一个方式就是使用缓存。
一个优秀的缓存策略可以缩短网页请求资源的距离，减少延迟，由于缓存文件可以重复利用，还可以减少带观，降低网络负荷。


web缓存分为数据库缓存、代理服务器缓存、cdn缓存、浏览器缓存。



页面的缓存状态是由header决定的，header的参数共有四种。

1. Cache-Control:  (http 1.1) 

	1.max-age(s) 指定设置缓存最大的有效时间。当浏览器当服务器发送请求后，在max-age这段时间里浏览器就不会再向服务器发送请求。

	Cache-Control: max-age=2592000(30天)  设置缓存几秒钟并不准确

	2.s-maxage(s) 共享缓存(比如cdn缓存)

	3.public

	4.private

	5.no-cache 代表不缓存过期的资源，缓存会向服务器进行有效处理确认之后再处理资源，也就是缓存之前会请求服务器，使用no-cache的目的就是为了防止从缓存中获取过期的资源。

	6.no-store  不进行缓存

2.Expires  (http1.0)

缓存的过期时间，用来指定资源到期的时间，是服务器端的具体的时间点。Expires = max-age + 请求时间。(比较少用)

Cache-Control的优先级会更高

3.Last-modified

服务端文件的最后修改时间，需要和cache-control共同使用，会向服务器传送If-Modified-Since报头，询问Last-Modified时间点之后资源是否被修改过。如果没有修改，则返回码为304，使用缓存；如果修改过，则再次去服务器请求资源，返回码和首次请求相同为200，资源为服务器最新资源。

4.ETag

根据实体内容生成一段hash字符串，标识资源的状态，由服务端产生。浏览器会将这串字符串传回服务器，验证资源是否已经修改。
